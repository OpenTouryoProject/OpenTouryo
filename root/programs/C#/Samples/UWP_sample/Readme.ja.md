# Open 棟梁 UWP サンプル
## 概要
このフォルダーには、Open 棟梁を使った UWP サンプルがあります。

## ソリューション構造
- UWP_Sample.Html  
HTML/JavaScript で作成した UWP サンプルです。
- UWP_Sample.Xaml  
XAML/C# で作成した UWP サンプルです。
- SPA_sample  
シングルページ アプリケーションと、Web API のサンプルです。UWP サンプルから、このプロジェクトの Web API を呼び出します。

## 使い方
### フォーム認証を無効にする
既定では、SPA_sample のフォーム認証が有効になっています。UWP から Web API を呼び出せるように、フォーム認証を無効にしてください。

**Web.config** を開き、`<deny users="?" />` をコメントアウトしてください。

```xml
<authorization>
  <!-- 全ユーザーへの許可 -->
  <!--<allow users="*" />-->
  <!-- 匿名ユーザーの禁止 -->
  <!--<deny users="?" />-->
  <!--  
    <allow  users="[ユーザーのコンマ区切り一覧]"
        roles="[ロールのコンマ区切り一覧]"/>
    <deny  users="[ユーザーのコンマ区切り一覧]"
        roles="[ロールのコンマ区切り一覧]"/>
  -->
</authorization>
```

### スタートアップ プロジェクトを構成する
UWP サンプルは、SPA_Sample の Web API が必要です。そのため、UWP サンプルと、SPA サンプルの両方を起動する必要があります。

1. ソリューション エクスプローラーで、ソリューションを右クリックし、[プロパティ] を選択してください。
1. [共通プロパティ]、[スタートアップ プロジェクト] を選択してください。
1. [マルチ スタートアップ プロジェクト] を選択してください。
1. スタートアップ プロジェクトを構成してください。
  - UWP_Sample.Html をデバッグする場合は、以下のように構成してください。
    - SPA_Sample: **開始**
    - UWP_Sample.Html: **開始**
    - UWP_Sample.Xaml: **なし**
  - UWP_Sample.Xaml をデバッグする場合は、以下のように構成してください。
    - SPA_Sample: **開始**
    - UWP_Sample.Html: **なし**
    - UWP_Sample.Xaml: **開始**
1. [OK] をクリックしてください。

### UWP と SPA サンプルを実行する
1. ASP.NET 状態サービスを開始してください。
1. メニューバーの [ビルド]-[ソリューションの配置] を選択してください。
1. [開始] ボタンをクリックし、UWP と SPA サンプルを実行してください。
